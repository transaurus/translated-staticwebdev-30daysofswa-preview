---
slug: devtools-vscode
title: "#21: Develop With VSCode"
authors: [alex]
tags: [swa, 30days, dev-tools]
draft: false
---

<head>
  <meta name="twitter:url" content="https://www.azurestaticwebapps.dev/blog/devtools-vscode" />
  <meta name="twitter:title" content="#21: Debug with VS Code" />
  <meta name="twitter:description" content="Join @alexweininger as we wrap DevTools week on #30DaysOfSWA with a look at seamless debugging using @code for @AzureStatic Apps!" />
  <meta name="twitter:image" content="https://www.azurestaticwebapps.dev/assets/images/21-banner-4c8833d85f3b63b56f65329fd492dcb5.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@nitya" />
  <meta name="twitter:site" content="@AzureStaticApps" /> 
  <link rel="canonical" href="https://www.azurestaticwebapps.dev/blog/devtools-vscode" />
</head>

欢迎来到 **#30DaysOfSWA** 的 `第3周第7天`！

本周我们聚焦于SWA开发者工具。作为本周的收官之作，我们将展示如何通过[VS Code的Azure Static Web Apps扩展](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps)更便捷地使用这些强大工具。

:::info[今日内容概览]
 * 使用VS Code进行调试
 * 轻松添加API端点
 * 同时调试API与前端
 * **资源推荐:** [Azure Static Web Apps快速入门：使用VS Code](https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=vanilla-javascript)
:::

![](../static/img/series/21-banner.png)

## 准备工作 🛠️

1. **安装Google Chrome** - 我们将使用其调试器

2. **安装VS Code的Azure Static Web Apps扩展** - [市场链接](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps)

3. **安装Azure Static Web Apps CLI** - [GitHub链接](https://github.com/Azure/static-web-apps-cli)

```
npm install -g @azure/static-web-apps-cli@latest
```

## 1. 开始使用 🟢

1. 克隆以下任意代码库，并在VS Code中打开

| Framework | Repository |
|---|---|
Angular | https://github.com/staticwebdev/angular-basic
React | https://github.com/staticwebdev/react-basic
Svelte | https://github.com/staticwebdev/svelte-basic

2. 运行 `npm install`

![在VS Code中运行npm install](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/c00m73mzlt49kkwl4iiw.png)

> 主题: [Wes Bos官方Cobalt2主题](https://marketplace.visualstudio.com/items?itemName=wesbos.theme-cobalt2)

## 2. 运行与调试 🐞

![显示自动调试配置](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pahznac0f8cjqt8haifb.png)

1. 转到"运行和调试"视图
2. 点击"显示所有自动调试配置"
3. 在下拉菜单中选择"Azure Static Web Apps..."
4. 选择要调试的应用

这将在VS Code终端中启动Azure Static Web Apps CLI，并在`http://localhost:4280`上打开Chrome调试器。

现在您可以在前端代码中设置并触发断点。

![设置断点](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/aprutdzi9opkbegdnf2p.png)

## 3. 添加API路由 ⚡️

Azure Static Web Apps通过Azure Functions提供集成的API支持。要添加和调试API路由，我们需要安装一些Azure Functions工具。

1. **VS Code的Azure Functions扩展** - [从市场安装](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurefunctions)

2. **Azure Functions Core Tools** - [GitHub链接](https://github.com/Azure/azure-functions-core-tools)

```
npm i -g azure-functions-core-tools@4 --unsafe-perm true
```

现在，您可以通过命令面板(按`F1`)搜索"创建HTTP函数"来为应用添加API路由。

![添加HTTP函数](https://user-images.githubusercontent.com/12476526/169424449-3a10a9a0-025f-4fa3-b15f-294846fb0291.png)

选择语言(我选JavaScript)，命名函数(我输入"hello")。随后将为您创建可通过`/api/hello`访问的API路由。

![API路由](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/emd9wo9q26m51aboyydd.png)

## 4. 调试应用与API ✨

我们可以在VS Code中同时调试API路由和前端应用。

选择"SWA: Run..."调试配置，点击绿色"运行并调试"按钮。

![运行并调试](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/234k0e1p9jzmtyeeli56.png)

VS Code现在将运行你的Functions API路由和前端。当所有服务启动后，Chrome窗口会在`http://localhost:4280`自动打开。

在你的Function端点设置断点。

![Function端点断点](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/89kolpnqbsrqysh661ep.png)

在Chrome窗口中访问`http://localhost:4280/api/hello`触发断点。

![命中API断点](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2q8zt9j70wz4dr5h3mcm.png)

## 5. 后续步骤 🏃‍♀️

现在你的静态Web应用已在本地运行，可以[免费部署到Azure](https://docs.microsoft.com/en-us/azure/static-web-apps/getting-started?tabs=react)。

## 故障排除 🔍

如遇问题，请查阅[wiki中的故障排除章节](https://github.com/microsoft/vscode-azurestaticwebapps/wiki/Guide:-Debugging-a-Static-Web-App-with-VS-Code#troubleshooting-)。

## 资源链接 🔗

* [Azure静态Web应用文档](https://docs.microsoft.com/en-us/azure/static-web-apps/)
* [Azure静态Web应用CLI](https://github.com/Azure/static-web-apps-cli)
* [VS Code的Azure静态Web应用扩展](https://marketplace.visualstudio.com/items?itemName=ms-azuretools.vscode-azurestaticwebapps)

## 下周预告

至此#30DaysOfSWA第三周关于`开发者工具`的内容圆满结束。以下是本周内容视觉回顾：

* 使用Azure门户和Azure CLI配置资源
 * 通过Playwright实现自动化跨浏览器端到端测试
 * 利用Azure DevOps构建多阶段部署流水线
 * 使用VSCode中的Edge DevTools进行调试及性能与无障碍审计
 * 通过SWA CLI实现本地开发与云端部署的统一
 * 探索VS Code丰富的扩展功能和流畅的CLI交互体验

![第三周视觉路线图](../static/img/png/week3-roadmap.png)

下周我们有什么计划？

我们已经涵盖了核心概念、使用示例和开发者工具——接下来是：**最佳实践！** 加入#30DaysOfSWA最后一周的学习，我们将定义端到端开发者体验，探索增强SWA的各种Azure服务集成，深入案例分析，并以带你回归开发本源的`技巧与窍门`系列作为收官。

感谢你一路相伴！