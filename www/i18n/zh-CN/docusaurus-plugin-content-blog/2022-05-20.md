---
slug: devtools-swacli-develop
title: "#19: Develop with SWA CLI"
authors: [yohan]
tags: [swa, 30days, dev-tools]
draft: false
---

<head>
  <meta name="twitter:url" content="https://www.azurestaticwebapps.dev/blog/devtools-swacli-develop" />
  <meta name="twitter:title" content="##19: Develop with SWA CLI" />
  <meta name="twitter:description" content="Join @sinedied on #30DaysOfSWA as debuts the new SWA CLI for @AzureStaticApps and walks through the build process!" />
  <meta name="twitter:image" content="https://www.azurestaticwebapps.dev/assets/images/19-banner-ecd588da06f9f1af0f0e8a5f3323aa20.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@nitya" />
  <meta name="twitter:site" content="@AzureStaticApps" /> 
  <link rel="canonical" href="https://dev.to/azure/get-started-with-the-new-azure-static-web-apps-cli-mm3" />
</head>

欢迎来到 **#30DaysOfSWA** 的 `第3周第5天`！！

我们已进入"开发工具"周的后半程！此前我们探讨了用于配置Azure资源、自动化跨浏览器测试、简化CI/CD流程以及调试/审计SWA应用性能与无障碍性的开发者工具。但**本地开发**呢——有没有一款工具能帮助我从_开始_（项目创建与配置）到_完成_（构建与部署）**一站式搞定**？让我们来认识下 [Azure Static Web Apps CLI](https://aka.ms/30DaysOfSWA/swa-cli)。

:::info[今日要点]
 * `swa` - 一统江湖的万能命令！
 * 创建配置文件
 * 构建你的项目
 * 本地运行应用
 * **实践**：使用新版`swa` CLI构建并运行入门应用！
:::

![](../static/img/series/19-banner.png)

您可能还不知道，[新版Azure Static Web Apps CLI](https://github.com/Azure/static-web-apps-cli) 现已发布！

若要详述所有变更和新特性需要整篇博文，但以下是部分亮点。通过新的`init`、`build`、`start`和`deploy`命令，您现在可以*在单一工具中*通过命令行直接完成应用的完整开发周期。

![](../static/img/series/19-cli-banner-1.jpeg)

开始前请确保已安装较新版本的[Node.js](https://nodejs.org)（>14），然后在终端输入以下命令：

```sh
npm i -g @azure/static-web-apps-cli
```

下面我们将了解新命令及其核心功能。

:::note
若您从未听说过Static Web Apps（简称SWA），这是Azure提供的Web应用托管服务，提供开箱即用的全栈开发功能，包括身份验证、可定制路由、无服务器函数等。它还包含超值的[免费层级](https://azure.microsoft.com/free/?WT.mc_id=javascript-0000-yolasors) 😉
:::

## `swa`

新版CLI引入了大量新选项，是否意味着学习曲线陡峭？恰恰相反！

所有命令都以`swa`开头，而现在它可能也是您唯一需要记住的命令。

```sh
# yes, that's all you need to type
swa
```

该命令是`swa init`、`swa build`、`swa login`和`swa deploy`的宏命令快捷方式。稍后我们会详解这些命令，此处关键是您只需记住`swa`这个命令，即可完成Static Web Apps的新项目配置、构建和部署。无需纠结任何选项或标志，输入`swa`即可启程。

## 创建配置

首个新命令是`swa init`。该命令会检测您的项目配置和使用框架，自动生成建议配置，您无需研读[闪亮的新文档](https://azure.github.io/static-web-apps-cli/)来推断所需选项。

![swa init命令截图](../static/img/series/19-init.png)

在输入项目配置名称后，您可以验证或编辑检测到的项目设置。完成后会在当前文件夹生成包含您设置的`swa-cli.config.json`文件。可将此文件提交至项目仓库供团队成员使用。

## 构建项目

配置文件创建完成后，您即可无障碍使用其他命令，无需再处理任何选项或标志。

无论您需要构建前端应用、API还是两者兼顾，`swa build`命令都能一键完成。它还会自动处理NPM依赖安装（如有需要），并智能识别项目使用的是npm、Yarn还是PNPM包管理器。

## 本地运行应用

从历史沿革来看，本地运行功能是SWA CLI最初的核心特性。如今`swa start`命令依然保留，它能模拟完整的SWA运行时环境，包括路由、身份验证功能和API支持。我们优化了开发者体验，并修复了若干问题以更精准匹配实际SWA运行环境。

过去若需使用API，开发者必须手动安装[Functions Core Tools](https://docs.microsoft.com/azure/azure-functions/functions-run-local?tabs=v4%2Cwindows%2Ccsharp%2Cportal%2Cbash&WT.mc_id=javascript-0000-yolasors#publish)，还需确保工具版本与Node.js版本匹配。现在整个过程已实现全自动化——无论未安装工具或版本不匹配，系统都会在需要时自动完成安装配置。

## 后续步骤

通过这些新命令，您已完成项目配置、构建和本地测试全流程。使用`swa start`还能在实时运行环境中调试应用和API。当您对结果满意时，即可将其部署至Azure，这将是我们下篇文章的重点内容。

您也可以随时访问[新版文档网站](https://azure.github.io/static-web-apps-cli/)，深入了解新特性及其使用方法。

## 反馈通道

我们正在[dev.to社区](https://dev.to/azure/get-started-with-the-new-azure-static-web-apps-cli-mm3)随时倾听并提供帮助！🙂

欢迎分享您的使用体验、遇到的困难、技术疑问，以及对SWA CLI未来版本的期待功能。

## 资源推荐

想亲眼见证静态Web应用CLI的实际表现？该工具已在昨日[Azure静态Web应用周年庆](https://aka.ms/swaanniversary)活动上正式发布，相关演示片段可让您直观了解其运行效果。

<iframe width="560" height="315" frameborder="0"  src="https://www.youtube.com/embed/1e6k5HNK4F8" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>