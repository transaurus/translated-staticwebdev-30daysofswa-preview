---
slug: build-with-blazor
title: "#12: Headless CMS & Blazor SWA"
authors: [justin, jeff]
tags: [swa, 30days, usage-examples, blazor]
draft: false
---

欢迎来到 **#30DaysOfSWA** 的 `第二周第五天`！

过去几天我们一直在探索基于JavaScript的Web应用框架。今天，我们将目光转向卓越的.NET社区，探讨如何使用[Blazor](http://blazor.net)构建静态Web应用。

## 今日要点

* 简介：Blazor WebAssembly
 * 快速入门：简易Blazor静态Web应用
 * 进阶：Blazor静态Web应用 + WordPress内容管理系统
 * **实践**：改造Fritz的帽子收藏项目！

![](../static/img/series/12-banner.png)

## Blazor WebAssembly

谈及Web应用开发时，我们通常会想到使用JavaScript、HTML和CSS。事实上，阅读本系列的读者中，许多人在讨论现代Web应用时会自称为JavaScript开发者。

但如果我告诉你并非总是如此呢？如果能在浏览器中通过.NET运行时**使用C#编写Web应用**呢？借助[Blazor](https://blazor.net)，这已成为现实。

**什么是Blazor？**

Blazor是[基于.NET构建交互式客户端Web UI的框架](https://docs.microsoft.com/en-us/aspnet/core/blazor)。开发者可以使用C#（而非JavaScript）构建交互式Web应用，并通过.NET能力将体验扩展到混合桌面和移动应用。

**什么是WebAssembly？**

在浏览器中运行.NET代码的能力源自[WebAssembly](https://webassembly.org/)(`wasm`)——一种二进制指令格式和开放Web标准，设计作为编程语言的_可移植编译目标_。它提供了可在JavaScript虚拟机（如现代浏览器中的虚拟机）内实现的沙盒运行时，以支持Web应用。

**Blazor WebAssembly如何运作？**

[Blazor WebAssembly](https://docs.microsoft.com/en-us/aspnet/core/blazor/)是构建单页应用(SPA)的框架，兼容所有现代浏览器（包括移动版）。Blazor应用使用.NET运行时中的[Razor](https://docs.microsoft.com/en-us/aspnet/core/blazor/components/?view=aspnetcore-6.0)组件编写，.NET代码通过WebAssembly在浏览器的JavaScript沙盒中执行。WebAssembly利用JavaScript互操作性实现对浏览器功能的完整访问。了解[Blazor Web应用工作原理](https://docs.microsoft.com/en-us/aspnet/core/blazor/)。

![](https://docs.microsoft.com/en-us/aspnet/core/blazor/index/_static/blazor-webassembly.png?view=aspnetcore-6.0)

## 简易Blazor静态Web应用

想学习如何将简单Blazor应用部署到Azure静态Web应用？我们为您准备了指南！按照[本教程](https://docs.microsoft.com/en-us/azure/static-web-apps/deploy-blazor)学习如何将**现有Blazor应用**部署到Azure静态Web应用。

最终效果类似这样——一个单页Blazor Web应用，展示_从无服务器API返回_的天气数据，从[此入门应用](https://github.com/login?return_to=/staticwebdev/blazor-starter/generate)开始。

![快速入门演示](../static/img/series/12-swa-quickstart.png)

---

## Blazor静态Web应用与WordPress

想尝试更复杂的示例？查看[此进阶教程](https://dev.to/azure/blazor-webassembly-for-headless-cms-on-azure-static-web-apps-412c)（作者Justin Yoo）。以下是简要介绍：

> 构建静态网站最流行的场景之一是为个人或组织搭建博客站点。WordPress 是用于此目的的最受欢迎的服务。现在，您希望将 WordPress 博客站点迁移到静态网站，但这看起来并不容易。

> 如果您仍希望使用 WordPress 站点撰写内容，但只想在站点外部刷新 UI 怎么办？如果您甚至可以通过 Blazor WebAssembly 使用 C# 来实现这一点呢？您现在可以将现有的 WordPress 站点作为数据源，并使用您喜欢的方法在单独的实例中构建 UI。这听起来有吸引力吗？

跟随 Justin 一起了解所需的步骤：

* 将托管的 WordPress 实例用作无头 CMS
 * 使用 WordPress 构建 Blazor WebAssembly 应用
 * 在 Azure Static Web Apps 上托管完成的应用

最终结果如下所示。
 **[阅读这篇博客文章了解更多！！](https://dev.to/azure/blazor-webassembly-for-headless-cms-on-azure-static-web-apps-412c)**。

![最终演示](../static/img/series/12-swa-wordpress.png)

---

## 练习：混音 Fritz 的帽子！

希望您已准备好尝试一些有趣的内容，以巩固今天学到的知识。

**向 (Jeff) Fritz 的超酷帽子问好**

[Fritz 的超酷帽子](https://hats.csharpfritz.com/) 是一个使用 Blazor WebAssembly 构建的开源静态网站，结合了 C# Azure Functions 和 Azure Storage，并通过 Azure Static Web Apps 部署。该项目由 **Jeff Fritz** 创建，他是许多 Twitch 直播和流行的 [Blazor 初学者系列](https://docs.microsoft.com/en-us/shows/beginners-series-to-blazor/) 的幕后人物。

[**访问已部署的站点**](https://hats.csharpfritz.com/)

![帽子演示](../static/img/series/12-swa-fritz.png)

本次练习：

* [Fork 仓库](https://github.com/csharpfritz/Fritz.HatCollection) 并在本地克隆。
* 在 Visual Studio 中打开项目 - 按 F5 启动（应用和 API）。
* 配置 [您的 Azure Storage 账户](https://github.com/csharpfritz/Fritz.HatCollection#data-storage) 以添加您自己的图片
* 使用 [快速入门](https://aka.ms/blazor-swa/quickstart) 部署到 Azure Static Web Apps。

探索原始仓库中的源代码和 GitHub Actions 文件，了解应用的结构。然后通过标记带有 #30DaysOfSWA 的推文与我们分享您部署的项目。

---

## 资源

以下是一些资源，帮助您开始 Blazor 之旅：

* [Blazor：使用 C# 构建客户端 Web 应用](https://blazor.net)
 * [Blazor 初学者系列](https://docs.microsoft.com/en-us/shows/beginners-series-to-blazor/)
 * [教程：使用 Blazor 构建静态 Web 应用](https://docs.microsoft.com/en-us/azure/static-web-apps/deploy-blazor)
 * [Fritz.HatCollection - 源代码](https://github.com/csharpfritz/Fritz.HatCollection)，Jeff Fritz
 * [无头 CMS 示例 - 源代码](https://github.com/justinyoo/blazor-wasm-azfunc-aswa)，Justin Yoo