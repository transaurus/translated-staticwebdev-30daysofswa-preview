---
slug: devtools-swacli-deploy
title: "#20: Deploy with SWA CLI"
authors: [wassim, yohan]
tags: [swa, 30days, dev-tools]
draft: false
---

<head>
  <meta name="twitter:url" content="https://www.azurestaticwebapps.dev/blog/devtools-swacli-deploy" />
  <meta name="twitter:title" content="#20: Deploy with SWA CLI" />
  <meta name="twitter:description" content="Join @sinedied and @manekinekko on #30DaysOfSWA in part 2 of the intro to SWA CLI for @AzureStaticApps - focused on deployment!" />
  <meta name="twitter:image" content="https://www.azurestaticwebapps.dev/assets/images/20-banner-62cb7a9019981d88c514d8875b8547d9.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:creator" content="@nitya" />
  <meta name="twitter:site" content="@AzureStaticApps" /> 
  <link rel="canonical" href="https://dev.to/azure/deploy-your-static-web-apps-to-azure-directly-from-the-command-line-2ip8" />
</head>

æ¬¢è¿æ¥åˆ° **#30DaysOfSWA** çš„ `ç¬¬3å‘¨ç¬¬6å¤©`ï¼ï¼

è¿™æ˜¯2ç¯‡ç³»åˆ—æ–‡ç« çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œé‡ç‚¹ä»‹ç»åœ¨[Azure Static Web Appså‘¨å¹´æ´»åŠ¨](https://docs.microsoft.com/en-us/events/learntv/swa-anniversary-may-2022?WT.mc_id=30daysofswa-61155-cxall)ä¸Šå‘å¸ƒçš„[Azure Static Web Apps CLI](https://azure.github.io/static-web-apps-cli/?WT.mc_id=30daysofswa-61155-cxall)ã€‚æ˜¨å¤©çš„æ–‡ç« ä»‹ç»äº†æ ¸å¿ƒçš„`swa`å‘½ä»¤ï¼Œå¹¶è¯¦ç»†è®²è§£äº†`swa init`å’Œ`swa start`å‘½ä»¤åŠå…¶é…ç½®ã€‚

ä»Šå¤©ï¼Œæˆ‘ä»¬å°†æ¢ç´¢`swa login`å’Œ`swa deploy`å‘½ä»¤ï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©ä½ å°†æœ¬åœ°å¼€å‘çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°Azureäº‘ä¸Šã€‚æˆ‘ä»¬è¿˜å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥è¿›ä¸€æ­¥ç®€åŒ–å¼€å‘ä½“éªŒã€‚

:::info[æˆ‘ä»¬å°†æ¶µç›–çš„å†…å®¹]
 * ç™»å½•Azure
 * éƒ¨ç½²ä½ çš„åº”ç”¨
 * ç¯å¢ƒå˜é‡
 * **ç»ƒä¹ **ï¼šä½¿ç”¨æ–°çš„`swa` CLIè¿›è¡Œèº«ä»½éªŒè¯å¹¶éƒ¨ç½²ä½ çš„åº”ç”¨
:::

![](../static/img/series/20-banner.png)

åœ¨è¿™ç¯‡å…³äºSWA CLIçš„ç¬¬äºŒç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºæ–°çš„éƒ¨ç½²é€‰é¡¹ã€‚æ˜¯çš„ï¼Œä½ ç°åœ¨å¯ä»¥ç›´æ¥ä»å‘½ä»¤è¡Œéƒ¨ç½²ä½ çš„åº”ç”¨äº†ï¼è¿˜æœ‰è°èƒ½æ¯”å®ç°è¿™ä¸ªåŠŸèƒ½çš„äººæ›´é€‚åˆæ¥è®²è§£å‘¢ï¼Ÿæˆ‘å°†è®©æˆ‘çš„æœ‹å‹[Wassim](https://twitter.com/manekinekko)ä¸ºä½ è¯¦ç»†è§£é‡Šã€‚

> å¦‚æœä½ ä»æœªå¬è¯´è¿‡Static Web Appsï¼ˆç®€ç§°SWAï¼‰ï¼Œå®ƒæ˜¯Azureæä¾›çš„ä¸€é¡¹Webåº”ç”¨æ‰˜ç®¡æœåŠ¡ï¼Œæä¾›äº†ç®€åŒ–çš„å…¨æ ˆå¼€å‘ä½“éªŒï¼Œå†…ç½®äº†è®¸å¤šåŠŸèƒ½ï¼Œå¦‚èº«ä»½éªŒè¯ã€å¯è‡ªå®šä¹‰çš„è·¯ç”±ã€æ— æœåŠ¡å™¨å‡½æ•°ç­‰ã€‚å®ƒè¿˜æœ‰ä¸€ä¸ªå¾ˆæ£’çš„[å…è´¹å±‚](https://azure.microsoft.com/free/?WT.mc_id=30daysofswa-61155-cxall) ğŸ˜‰

## ç™»å½•Azure

åœ¨æ–°çš„Azure Static Web Apps CLIä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ–°çš„`swa login`å‘½ä»¤ï¼Œå…è®¸ä½ ç›´æ¥ä»å‘½ä»¤è¡Œç™»å½•åˆ°ä½ çš„Azureè´¦æˆ·ã€‚æ­¤å‘½ä»¤ä¼šåŠ å¯†å¹¶å°†ä½ çš„å‡­æ®å­˜å‚¨åœ¨ä½ ç³»ç»Ÿçš„å¯†é’¥é“¾ä¸­ï¼Œè¿™æ ·ä½ å°±ä¸éœ€è¦å†æ¬¡è¾“å…¥å®ƒä»¬ã€‚

åœ¨å¤§å¤šæ•°å¸¸è§æƒ…å†µä¸‹ï¼Œ`swa login`ä¼šä»ä»¥ä¸‹ä½ç½®ï¼ˆæŒ‰æ­¤é¡ºåºï¼‰è·å–ä½ å½“å‰æ´»åŠ¨çš„Azureå‡­æ®ï¼š

1. ä½ çš„ç¯å¢ƒå˜é‡ï¼Œå¦‚æœä½ è®¾ç½®äº†ä»¥ä¸‹ä»»æ„ä¸€ä¸ªæˆ–å¤šä¸ª[å˜é‡](https://azure.github.io/static-web-apps-cli/docs/cli/env-vars#azure-identity?WT.mc_id=30daysofswa-61155-cxall)ï¼š
    - `AZURE_TENANT_ID`
    - `AZURE_CLIENT_ID`
    - `AZURE_CLIENT_SECRET`
2. ä½ å½“å‰çš„Visual Studio Codeï¼Œå¦‚æœä½ æ­£åœ¨ä½¿ç”¨VS Codeå¹¶å·²è¿æ¥åˆ°Azureã€‚
3. é€šè¿‡æµè§ˆå™¨è¿›è¡Œäº¤äº’å¼æç¤ºã€‚
4. æœ€åçš„å›é€€æ˜¯è®¾å¤‡ä»£ç æµï¼Œå®ƒå°†æç¤ºä½ ä½¿ç”¨ç”Ÿæˆçš„è®¾å¤‡ä»£ç ç™»å½•åˆ°ä½ çš„Azureè´¦æˆ·ã€‚

ä¸è¿‡ï¼Œå¦‚æœéœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæä¾›è¿™äº›å‡­æ®ï¼Œä½¿ç”¨å¯ç”¨çš„æ ‡å¿—ï¼š

```bash
Usage: swa login [options]

login into Azure

Options:
  -S, --subscription-id <subscriptionId>    Azure subscription ID used by this project
                                            (default: "process.env.AZURE_SUBSCRIPTION_ID")
  -R, --resource-group <resourceGroupName>  Azure resource group used by this project
  -T, --tenant-id <tenantId>                Azure tenant ID (default: "process.env.AZURE_TENANT_ID")
  -C, --client-id <clientId>                Azure client ID
  -CS, --client-secret <clientSecret>       Azure client secret
  -n, --app-name <appName>                  Azure Static Web App application name
  -cc, --clear-credentials                  clear persisted credentials before login (default: false)
  -u, --use-keychain                        enable using the operating system native keychain
                                            for persistent credentials (default: true)
  -nu, --no-use-keychain                    disable using the operating system native keychain
```

ç™»å½•åï¼ŒSWA CLIä¼šå°†ä½ çš„æ´»åŠ¨Azureè®¢é˜…IDå’Œç§Ÿæˆ·IDå­˜å‚¨åœ¨ä½ é¡¹ç›®æ ¹ç›®å½•ä¸‹åä¸º`.env`çš„æœ¬åœ°æ–‡ä»¶ä¸­ï¼š

```bash
âœ swa login

Welcome to Azure Static Web Apps CLI (1.0.0)

Checking Azure session...
âœ” Successfully logged into Azure!
âœ” Saved project credentials in .env file.
âœ” Successfully setup project!
```

è¿™ä¸ªæ–‡ä»¶å°†åœ¨ä½¿ç”¨`swa deploy`å‘½ä»¤å°†ä½ çš„é¡¹ç›®éƒ¨ç½²åˆ°Azureæ—¶ä½¿ç”¨ã€‚

## éƒ¨ç½²ä½ çš„åº”ç”¨

æ–°çš„SWA CLIä½¿å¾—å°†ä½ çš„åº”ç”¨éƒ¨ç½²åˆ°Azureå˜å¾—æ›´åŠ å®¹æ˜“ã€‚ä½ ç°åœ¨å¯ä»¥ç›´æ¥ä»å‘½ä»¤è¡Œä½¿ç”¨ä¸€ä¸ªç®€å•çš„`swa deploy`å‘½ä»¤æ¥éƒ¨ç½²ä½ çš„åº”ç”¨ã€‚

`swa deploy` å‘½ä»¤è¶³å¤Ÿæ™ºèƒ½ï¼Œèƒ½å¤Ÿåˆ¤æ–­æ‚¨æ˜¯å¦å·²æ‹¥æœ‰å¯ç”¨çš„ Azure Static Web Apps å®ä¾‹ã€‚è‹¥å­˜åœ¨ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ï¼›å¦åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºæ–°å®ä¾‹ï¼Œæˆ–æç¤ºæ‚¨ä»ç°æœ‰å®ä¾‹åˆ—è¡¨ä¸­é€‰æ‹©ï¼š

```bash
âœ swa deploy

Welcome to Azure Static Web Apps CLI (1.0.0)

Using configuration "thundr" from file:
  /home/wassimchegham/oss/@thundr-dev/thundr/swa-cli.config.json

Deploying front-end files from folder:
  /home/wassimchegham/oss/@thundr-dev/thundr/app/dist/thundr-ui

Deploying API from folder:
  /home/wassimchegham/oss/@thundr-dev/thundr/api

Checking Azure session...
âœ” Successfully logged into Azure!

Checking project settings...
? Choose your Static Web App â€º - Use arrow-keys. Return to submit.
â¯   >> Create a new application
    swa_samples/angular-web-bluetooth
    swa_samples/catsify
    swa_samples/hexa
    swa_samples/ngxtools
    swa_samples/nitrooo
  â†“ swa_samples/photobooth-teams

```

è¯¥å‘½ä»¤è¿˜èƒ½æ£€æµ‹ç°æœ‰ Static Web Apps å®ä¾‹æ˜¯å¦å·²é€šè¿‡ CI/CD æµæ°´çº¿éƒ¨ç½²ï¼Œå¹¶ç»™å‡ºç›¸åº”æç¤ºï¼

## é€šè¿‡ CI/CD æµæ°´çº¿éƒ¨ç½²

ä» CI/CD æµæ°´çº¿éƒ¨ç½²æ˜¯é¡¹ç›®ä¸­çš„å¸¸è§å®è·µã€‚æ‚¨å¯é€šè¿‡è®¾ç½®éƒ¨ç½²ä»¤ç‰Œï¼Œä½¿ç”¨ `swa deploy` å‘½ä»¤ä» CI/CD æµæ°´çº¿å°†åº”ç”¨éƒ¨ç½²åˆ° Azureï¼š

```bash
âœ swa deploy --print-token --app-name thundr --resource-group swa_samples

Welcome to Azure Static Web Apps CLI (1.0.0)

Checking project "thundr" settings...
âœ” Successfully setup project!

Deploying to environment: preview

Deployment token:
7c3fc44b858164b677-truncated-8c80ace9-39a8-416c-ae22-864745c0470b003
```

```bash
swa deploy --deployment-token=7c3fc44b858164b677-truncated-8c80ace9-39a8-416c-ae22-864745c0470b003b003
```

æ‚¨ä¹Ÿå¯å°†éƒ¨ç½²ä»¤ç‰Œè®¾ä¸º[ç¯å¢ƒå˜é‡](https://azure.github.io/static-web-apps-cli/docs/cli/env-vars#deploy-settings?WT.mc_id=30daysofswa-61155-cxall)ï¼š

```bash
export SWA_CLI_DEPLOYMENT_TOKEN=7c3fc44b858164b677-truncated-8c80ace9-39a8-416c-ae22-864745c0470b003b003
swa deploy
```

## ç¯å¢ƒå˜é‡

æ–°ç‰ˆ SWA CLI å¼•å…¥äº†ä¸€ç³»åˆ—ç¯å¢ƒå˜é‡æ¥ç®€åŒ–é…ç½®ä½“éªŒã€‚æ‚¨å¯é€šè¿‡è®¾ç½®ä»¥ä¸‹å˜é‡è‡ªå®šä¹‰ CLI è¡Œä¸ºï¼š

- å¸¸è§„è®¾ç½®
- æ¨¡æ‹Ÿå™¨è®¾ç½®
- éƒ¨ç½²è®¾ç½®
- è¿è¡Œæ—¶è®¾ç½®
- ç™»å½•ä½“éªŒ

æ›´å¤šç»†èŠ‚è¯·å‚é˜…æ–‡æ¡£ç½‘ç«™çš„[ç¯å¢ƒå˜é‡ç« èŠ‚](https://azure.github.io/static-web-apps-cli/docs/cli/env-vars??WT.mc_id=30daysofswa-61155-cxall)ã€‚

## åç»­æ­¥éª¤

ä»é¡¹ç›®åˆå§‹åŒ–åˆ° Azure éƒ¨ç½²ï¼Œå†åˆ°å®Œæ•´çš„æœ¬åœ°æµ‹è¯•ç¯èŠ‚ï¼Œæ‚¨ç°åœ¨å·²èƒ½é€šè¿‡å‘½ä»¤è¡ŒæŒæ§æ•´ä¸ªå¼€å‘æµç¨‹ã€‚æ¥ä¸‹æ¥çœŸæ­£çš„æŒ‘æˆ˜æ˜¯å¦‚ä½•è¿è¥å’Œæ‰©å±•æ‚¨çš„åº”ç”¨ ğŸ˜‰ã€‚

å¦‚éœ€è·å–å¼€å‘æŠ€å·§ï¼Œå¯è§‚çœ‹ [Static Web Apps æŠ€å·§ä¸çªé—¨](https://aka.ms/StaticWebAppsTips??WT.mc_id=30daysofswa-61155-cxall)è§†é¢‘ç³»åˆ—ã€‚

æ‚¨ä¹Ÿå¯é€šè¿‡[æ–°ç‰ˆæ–‡æ¡£ç½‘ç«™](https://azure.github.io/static-web-apps-cli/?WT.mc_id=30daysofswa-61155-cxall)äº†è§£ SWA CLI çš„æ‰€æœ‰æ–°åŠŸèƒ½ã€‚

## åé¦ˆé€šé“

æˆ‘ä»¬éšæ—¶åœ¨ dev.to ä¸Šå€¾å¬å¹¶ä¸ºæ‚¨æä¾›å¸®åŠ©ï¼ğŸ™‚

è¯·åˆ†äº«æ‚¨çš„ä½¿ç”¨ä½“éªŒã€é‡åˆ°çš„å›°éš¾ã€ç–‘é—®ï¼Œä»¥åŠå¸Œæœ›åœ¨æœªæ¥ç‰ˆæœ¬ä¸­çœ‹åˆ°çš„åŠŸèƒ½ã€‚

## èµ„æº

æƒ³è§‚çœ‹ Static Web Apps CLI çš„å®é™…æ¼”ç¤ºï¼Ÿè¯¥å·¥å…·å·²åœ¨æ˜¨æ—¥ä¸¾åŠçš„ [Azure Static Web Apps å‘¨å¹´åº†](https://aka.ms/swaanniversary)ä¸Šæ­£å¼å‘å¸ƒï¼Œç›¸å…³æ¼”ç¤ºç‰‡æ®µå¯ä¾›å‚è€ƒã€‚

<iframe width="560" height="315" frameborder="0"  src="https://www.youtube.com/embed/1e6k5HNK4F8?WT.mc_id=30daysofswa-61155-cxall" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>